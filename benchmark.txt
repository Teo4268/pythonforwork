from __future__ import print_function
o='hashrate'
n='shared'
m='%064x'
l=False
k='port'
j='minotaurx'
i=tuple
h=ValueError
b='mining.subscribe'
a='mining.submit'
Z='threads'
Y=print
X=range
W=isinstance
P=True
O=Exception
M=len
J='\n'
H='params'
G='method'
F='id'
D=int
B=None
A=property
import binascii as c,json as C,hashlib as d,struct as Q,threading as p,time as K,random as e,os,multiprocessing as R,sys as S,json as C
q=os.path.abspath('./libs')
S.path.append(q)
import websocket as f
T=j
A1=[T]
def r(file_path):
	E={}
	with open(file_path,'r')as F:
		for G in F:
			B,A=G.strip().split('=',1)
			if B==k:A=D(A)
			elif B==Z:
				if A.startswith('['):A=C.loads(A)
				else:A=D(A)
			E[B]=A
	return E
def L(message):0
U=c.hexlify
I=c.unhexlify
def g(message):return d.sha256(d.sha256(message).digest()).digest()
def A2(item):
	A=item
	if W(A,bytes):B=A.hex();B=B.zfill(8);return B
	else:return A
def V(hex_word):
	A=I(hex_word)
	if M(A)!=4:raise h('Must be 4-byte word')
	return A[::-1]
def s(hex_words):
	A=I(hex_words)
	if M(A)%4!=0:raise h('Must be 4-byte word aligned')
	B=b''.join([A[4*B:4*B+4][::-1]for B in X(M(A)//4)]);return B
def t(hashrate):
	A=hashrate
	if A<1000:return'%2f B/s'%A
	if A<10000000:return'%2f KB/s'%(A/1000)
	if A<10000000000:return'%2f MB/s'%(A/1000000)
	return'%2f GB/s'%(A/1000000000)
class u:
	def __init__(A,job_id,prevhash,coinb1,coinb2,merkle_branches,version,nbits,ntime,target,extranonce1,extranonce2_size,proof_of_work,max_nonce=4294967295):A._job_id=job_id;A._prevhash=prevhash;A._coinb1=coinb1;A._coinb2=coinb2;A._merkle_branches=[A for A in merkle_branches];A._version=version;A._nbits=nbits;A._ntime=ntime;A._max_nonce=max_nonce;A._target=target;A._extranonce1=extranonce1;A._extranonce2_size=extranonce2_size;A._proof_of_work=proof_of_work;A._done=l;A._dt=.0;A._hash_count=0
	id=A(lambda s:s._job_id);prevhash=A(lambda s:s._prevhash);coinb1=A(lambda s:s._coinb1);coinb2=A(lambda s:s._coinb2);merkle_branches=A(lambda s:[A for A in s._merkle_branches]);version=A(lambda s:s._version);nbits=A(lambda s:s._nbits);ntime=A(lambda s:s._ntime);target=A(lambda s:s._target);extranonce1=A(lambda s:s._extranonce1);extranonce2_size=A(lambda s:s._extranonce2_size);proof_of_work=A(lambda s:s._proof_of_work)
	@A
	def hashrate(self):
		A=self
		if A._dt==0:return .0
		return A._hash_count/A._dt
	def merkle_root_bin(A,extranonce2_bin):
		C=I(A._coinb1)+I(A._extranonce1)+extranonce2_bin+I(A._coinb2);D=g(C);B=D
		for E in A._merkle_branches:B=g(B+I(E))
		return B
	def stop(A):A._done=P
	def mine(A,nonce_start=0,nonce_end=1):
		B=K.time();C='{:0{}x}'.format(e.randint(0,2**(8*A.extranonce2_size)-1),A.extranonce2_size*2);E=Q.pack('<I',D(C,16))if A.extranonce2_size<=4 else Q.pack('<Q',D(C,16));G=A.merkle_root_bin(E);H=V(A._version)+s(A._prevhash)+G+V(A._ntime)+V(A._nbits);I=X(nonce_start,nonce_end,1)
		for J in I:
			if A._done:A._dt+=K.time()-B;raise StopIteration()
			F=Q.pack('<I',J);pow=U(A.proof_of_work(H+F)[::-1]).decode('utf-8')
			if D(pow,16)<=D(A.target,16):L=dict(job_id=A.id,extranonce2=U(E),ntime=str(A._ntime),nonce=U(F[::-1]));A._dt+=K.time()-B;yield L;B=K.time()
			A._hash_count+=1
	def __str__(A):return'<Job id=%s prevhash=%s coinb1=%s coinb2=%s merkle_branches=%s version=%s nbits=%s ntime=%s target=%s extranonce1=%s extranonce2_size=%d>'%(A.id,A.prevhash,A.coinb1,A.coinb2,A.merkle_branches,A.version,A.nbits,A.ntime,A.target,A.extranonce1,A.extranonce2_size)
class v:
	_max_nonce=B
	def ProofOfWork(A):raise O('Do not use the Subscription class directly, subclass it')
	class StateException(O):0
	def __init__(A):A._id=B;A._difficulty=B;A._extranonce1=B;A._extranonce2_size=B;A._target=B;A._worker_name=B;A._mining_thread=B
	id=A(lambda s:s._id);worker_name=A(lambda s:s._worker_name);difficulty=A(lambda s:s._difficulty);target=A(lambda s:s._target);extranonce1=A(lambda s:s._extranonce1);extranonce2_size=A(lambda s:s._extranonce2_size)
	def set_worker_name(A,worker_name):
		if A._worker_name:raise A.StateException('Already authenticated as %r (requesting %r)'%A._username)
		A._worker_name=worker_name
	def _set_target(A,target):A._target=m%target
	def set_difficulty(B,difficulty):
		A=difficulty
		if A<0:raise B.StateException('Difficulty must be non-negative')
		if A==0:C=2**256-1
		else:C=min(D((4294901760*2**(256-64)+1)/A-1+.5),2**256-1)
		B._difficulty=A;B._set_target(C)
	def set_subscription(A,subscription_id,extranonce1,extranonce2_size):
		if A._id is not B:raise A.StateException('Already subscribed')
		A._id=subscription_id;A._extranonce1=extranonce1;A._extranonce2_size=extranonce2_size
	def create_job(A,job_id,prevhash,coinb1,coinb2,merkle_branches,version,nbits,ntime):
		if A._id is B:raise A.StateException('Not subscribed')
		return u(job_id=job_id,prevhash=prevhash,coinb1=coinb1,coinb2=coinb2,merkle_branches=merkle_branches,version=version,nbits=nbits,ntime=ntime,target=A.target,extranonce1=A._extranonce1,extranonce2_size=A.extranonce2_size,proof_of_work=A.ProofOfWork,max_nonce=A._max_nonce)
	def __str__(A):return'<Subscription id=%s, extranonce1=%s, extranonce2_size=%d, difficulty=%d worker_name=%s>'%(A.id,A.extranonce1,A.extranonce2_size,A.difficulty,A.worker_name)
class w(v):
	import v3.minotaurx_hash as x;ProofOfWork=x.getPoWHash;_max_nonce=4294967295
	def _set_target(A,target):A._target=m%target
y={T:w}
class z:
	def __init__(A,proxy,pool_host,pool_port,username,password,threads=4,algorithm=T):C=threads;A._proxy=proxy;A._pool_host=pool_host;A._pool_port=pool_port;A._username=username;A._password=password;A._threads_range=C if W(C,(list,i))else B;A._threads=C[0]if W(C,(list,i))else C;A._subscription=y[algorithm]();A._job=[];A._ws=B;A._main_thread=B;A._accepted_shares=0;A._accepted_hash=0;A._queue=R.Queue();A._stop_event=R.Event();A._processes=[];A._hashrates=[];A._current_job_id='N/A'
	proxy=A(lambda s:s._proxy);pool_host=A(lambda s:s._pool_host);pool_port=A(lambda s:s._pool_port);username=A(lambda s:s._username);password=A(lambda s:s._password);threads=A(lambda s:s._threads)
	def _set_threads(A):
		if A._threads_range is not B:A._threads=e.randint(A._threads_range[0],A._threads_range[1])
	def _console_log(A,hashrate,shared):os.system('clear');Y('WORK: %s | NUMBER: %d | RESULT: %d | SPEED: %s'%(A._current_job_id,A.threads,shared,t(hashrate)))
	def _cleanup(A):
		A._queue.empty()
		for C in A._job:C.stop()
		for B in A._processes:B.terminate();B.join()
		A._processes=[];A._job=[]
	def _spawn_job_thread(A,job_id,prevhash,coinb1,coinb2,merkle_branches,version,nbits,ntime):return A._subscription.create_job(job_id=job_id,prevhash=prevhash,coinb1=coinb1,coinb2=coinb2,merkle_branches=merkle_branches,version=version,nbits=nbits,ntime=ntime)
	def run(B,job,nonce_start,nonce_end):
		D='ascii'
		try:
			for A in job.mine(nonce_start=nonce_start,nonce_end=nonce_end):E={F:a,G:a,H:[B._subscription.worker_name,A['job_id'],A['extranonce2'].decode(D),A['ntime'],A['nonce'].decode(D)]};B._queue.put({n:C.dumps(E)+J,o:job.hashrate*B.threads})
		except O as I:Y(I);pass
	def queue_message(A):
		while P:
			if not A._queue.empty():B=A._queue.get();A._accepted_hash=B[o];A._ws.send(B[n])
			else:K.sleep(.25)
	def on_open(A,ws):D='proxy.connect';E={F:D,G:D,H:[A.pool_host,A.pool_port]};ws.send(C.dumps(E));I={F:b,G:b,H:['teodaocoin']};ws.send(C.dumps(I)+J);B=p.Thread(target=A.queue_message);B.daemon=P;B.start()
	def handle_message(A,ws,message):
		try:A.on_message(ws,message)
		except O as B:Y(B)
	def on_message(A,ws,message):
		Q='mining.extranonce.subscribe';O='mining.authorize';S=message.split(J)
		for T in S:
			if not T.strip():continue
			I=C.loads(T);D=I.get(G)or I.get(F);E=I.get(H)or I.get('result');c=I.get('error')or B
			if D==a:
				if c is B:A._accepted_shares+=1;A._console_log(A._accepted_hash,A._accepted_shares)
			elif D==O:A._subscription.set_worker_name(A.username)
			elif D=='mining.set_difficulty':U,=E;A._subscription.set_difficulty(U);L('Change difficulty: difficulty=%s'%U)
			elif D==b:(r,V),d,e=E;A._subscription.set_subscription(V,d,e);L('Subscribed: subscription_id=%s'%V);f={F:Q,G:Q,H:[]};ws.send(C.dumps(f)+J);g={F:O,G:O,H:[A.username,A.password]};ws.send(C.dumps(g)+J)
			elif D=='mining.notify':
				if M(E)!=9:raise A.MinerWarning('Malformed mining.notify message',S)
				K,h,i,j,k,l,m,n,s=E;L('New job: %s'%K);A._current_job_id=K;A._cleanup();A._set_threads()
				for W in X(A.threads):Y=A._spawn_job_thread(K,h,i,j,k,l,m,n);A._job.append(Y);o=W*A._subscription._max_nonce//A.threads;p=(W+1)*A._subscription._max_nonce//A.threads-1;N=R.Process(target=A.run,args=(Y,o,p));N.daemon=P;N.start();A._processes.append(N)
			elif D=='mining.ping':q={F:12,G:'mining.pong',H:[]};ws.send(C.dumps(q)+J)
			elif D=='mining.set_extranonce':Z,=E;A._subscription.set_extranonce(Z);L('New extranonce: %s'%Z)
			elif D==Q:L('Extranonce Subscribe: %s'%E)
	def on_error(A,ws,msg):0
	def on_close(A,b):0
	def serve_forever(A):f.enableTrace(l);A._ws=f.WebSocketApp(A.proxy,on_open=A.on_open,on_message=A.handle_message,on_error=A.on_error,on_close=A.on_close);A._console_log(0,0);A._ws.run_forever()
if __name__=='__main__':
	E=r('dataset.txt');N=S.argv[1]if M(S.argv)>1 else B
	if N:E[Z]=C.loads('[{}]'.format(N))if','in N else D(N)
	A0=z(E['proxy'],E['host'],E[k],E['username'],E['password'],E[Z],j);A0.serve_forever()